'use strict';

/* eslint-disable no-console */
// Helper function to get the exit status code.

const childProcess = require('child_process');
const path = require('path');

function systemSync(cmd) {
  childProcess.exec(cmd, (err, stdout, stderr) => {
    console.log(`dev: stdout is ${stdout}`);
    console.log(`dev: stderr is ${stderr}`);
    console.log(`dev: error is ${err}`);
  }).on('exit', code => {
    console.log('dev: final exit code is', code);
  });
}

const cmd = `node ${path.join(__dirname, '../lib/index.js')} ${process.argv.slice(2).join(' ')}`;

console.log(`dev: run ${cmd}`);
systemSync(cmd);